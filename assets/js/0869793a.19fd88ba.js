"use strict";(self.webpackChunktestdoc=self.webpackChunktestdoc||[]).push([[9572],{5006:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"cloud/gcp/bigdata/dataflow","title":"Dataflow","description":"- Fully managed service for executing Apache Beam pipelines within GCP","source":"@site/docs/cloud/gcp/bigdata/dataflow.md","sourceDirName":"cloud/gcp/bigdata","slug":"/cloud/gcp/bigdata/dataflow","permalink":"/data-eng-docs/docs/cloud/gcp/bigdata/dataflow","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/cloud/gcp/bigdata/dataflow.md","tags":[],"version":"current","frontMatter":{},"sidebar":"cloudSidebar","previous":{"title":"Composer","permalink":"/data-eng-docs/docs/cloud/gcp/bigdata/composer"},"next":{"title":"Cloud data Fusion","permalink":"/data-eng-docs/docs/cloud/gcp/bigdata/datafusion"}}');var s=i(4848),r=i(8453);const t={},c="Dataflow",a={},d=[{value:"IAM",id:"iam",level:2},{value:"Quota",id:"quota",level:2},{value:"Security",id:"security",level:2},{value:"Beam best practices",id:"beam-best-practices",level:2}];function o(e){const n={h1:"h1",h2:"h2",header:"header",li:"li",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"dataflow",children:"Dataflow"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Fully managed service for executing Apache Beam pipelines within GCP"}),"\n",(0,s.jsx)(n.li,{children:"Allows code optimization"}),"\n",(0,s.jsx)(n.li,{children:"Dynamic workload re-balancing (straggler problem)"}),"\n",(0,s.jsx)(n.li,{children:"Autoscaling (more or less workers)"}),"\n",(0,s.jsx)(n.li,{children:"Is serverless and NoOps"}),"\n",(0,s.jsx)(n.li,{children:"Designed to be low maintenance"}),"\n",(0,s.jsx)(n.li,{children:"Pipelines are regional based"}),"\n",(0,s.jsx)(n.li,{children:"Integrates with other tools like Bigquery, pub/sub using connectors"}),"\n",(0,s.jsxs)(n.li,{children:["Best practices:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Handles errors","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Gracefully catch errors using ",(0,s.jsx)(n.strong,{children:"Try-Catch"})," blocks"]}),"\n",(0,s.jsxs)(n.li,{children:["Output errors to ",(0,s.jsx)(n.strong,{children:"PCollection"})," and set the collector for the later analysis"]}),"\n",(0,s.jsxs)(n.li,{children:["Think about it as ",(0,s.jsx)(n.strong,{children:"recycling"})," the ",(0,s.jsx)(n.strong,{children:"bad"})," data"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"How to update exiting code ?"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Window","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Global"}),"\n",(0,s.jsx)(n.li,{children:"Fixed"}),"\n",(0,s.jsx)(n.li,{children:"Sliding"}),"\n",(0,s.jsx)(n.li,{children:"Session"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"iam",children:"IAM"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Three check are performed when a job is submitted to Dataflow","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["User role with IAM","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Dataflow Viewer"}),"\n",(0,s.jsx)(n.li,{children:"Dataflow Developer"}),"\n",(0,s.jsx)(n.li,{children:"Dataflow Admin"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Dataflow Service Account","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Interact between your project and Dataflow"}),"\n",(0,s.jsx)(n.li,{children:"Used for user creation and monitoring"}),"\n",(0,s.jsx)(n.li,{children:"Assigned the Dataflow Service Agent role"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Controller Service Account","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Used by the workers to access resources needed by the pipeline"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"quota",children:"Quota"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["CPU quota","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Is the total number of virtual CPUs across all of your VM instances in a region or a zone"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["IP address:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Quota limits the number of VMs that can be launched with an external IP address for each region in your project"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Persistent disk"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"security",children:"Security"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Data locality"}),"\n",(0,s.jsx)(n.li,{children:"Sharded VPC"}),"\n",(0,s.jsx)(n.li,{children:"Private IPs"}),"\n",(0,s.jsx)(n.li,{children:"CMEK"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"beam-best-practices",children:"Beam best practices"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Use schema"}),"\n",(0,s.jsx)(n.li,{children:"Handling un-processed data"}),"\n",(0,s.jsx)(n.li,{children:"Error handling"}),"\n",(0,s.jsx)(n.li,{children:"AutoValue code generation"}),"\n",(0,s.jsx)(n.li,{children:"Json data handling"}),"\n",(0,s.jsx)(n.li,{children:"Utilize DoFn function"}),"\n",(0,s.jsx)(n.li,{children:"Pipeline optimizes"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>c});var l=i(6540);const s={},r=l.createContext(s);function t(e){const n=l.useContext(r);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),l.createElement(r.Provider,{value:n},e.children)}}}]);