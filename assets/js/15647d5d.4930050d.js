"use strict";(self.webpackChunktestdoc=self.webpackChunktestdoc||[]).push([[2865],{3956:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/ec2_archi-731675f63dd362bdbc6acc24d2e977df.png"},6186:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"cloud/aws/Compute/ec2-part1","title":"EC2","description":"- IaaS","source":"@site/docs/cloud/aws/02-Compute/ec2-part1.md","sourceDirName":"cloud/aws/02-Compute","slug":"/cloud/aws/Compute/ec2-part1","permalink":"/Docs/docs/cloud/aws/Compute/ec2-part1","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/cloud/aws/02-Compute/ec2-part1.md","tags":[],"version":"current","frontMatter":{},"sidebar":"cloudSidebar","previous":{"title":"AWS Batch","permalink":"/Docs/docs/cloud/aws/Compute/batch"},"next":{"title":"EC2","permalink":"/Docs/docs/cloud/aws/Compute/ec2-part2"}}');var i=s(4848),r=s(8453);const l={},c="EC2",a={},o=[{value:"EC2 Princing",id:"ec2-princing",level:2},{value:"Instance store volume",id:"instance-store-volume",level:2},{value:"Elastic Block Store (EBS)",id:"elastic-block-store-ebs",level:2},{value:"<strong>Types ??</strong>",id:"types-",level:2},{value:"Security Group (SG)",id:"security-group-sg",level:2},{value:"User data",id:"user-data",level:2},{value:"Instance Metadata",id:"instance-metadata",level:2},{value:"Auto-Scaling",id:"auto-scaling",level:2}];function d(e){const n={a:"a",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"ec2",children:"EC2"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"IaaS"}),"\n",(0,i.jsx)(n.li,{children:"Regional service"}),"\n",(0,i.jsx)(n.li,{children:"Has an AMI (Amazon Machine Image)"}),"\n",(0,i.jsxs)(n.li,{children:["Can use ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"Instance Store Volume"})}),": they are not persistent and not secure"]}),"\n",(0,i.jsxs)(n.li,{children:["Instance families","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"General purpose:"})," great for diversity of workloads such as web servers or code repositories","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Balance between: memory, storage and networking"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Compute optimized:"})," for compute-intensive tasks that require high performance processors"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Memory optimized:"})," fast performance for workloads that process large datasets in memory"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Storage optimized:"})," for storage intensive tasks that require high, sequential read and write access to large data\r\nsets on local storage"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Accelerated computing"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"ec2-princing",children:"EC2 Princing"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"On-demand"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Low cost and flexibility of Amazon EC2 without any upfront payment or long-term commitment"}),"\n",(0,i.jsx)(n.li,{children:"Good fot the short-term (test use cases)"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Reserved Instances (RI)"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Spot Instances:"})," can be terminated at any time"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Dedicated"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Most expensive"}),"\n",(0,i.jsx)(n.li,{children:"Multi-Tenant (virtual isolation with other consumers) vs Single Tenant (physical isolation with other consumers)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"instance-store-volume",children:"Instance store volume"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Volume attached to EC2"}),"\n",(0,i.jsx)(n.li,{children:"Offers some performance because is located in the same host as the instance"}),"\n",(0,i.jsx)(n.li,{children:"It's ephemeral, if the instance remove the storage is removed too"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"elastic-block-store-ebs",children:"Elastic Block Store (EBS)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["A ",(0,i.jsx)(n.strong,{children:"virtual hard drive"})," in the cloud"]}),"\n",(0,i.jsx)(n.li,{children:"Create new volumes attach to EC2 instances"}),"\n",(0,i.jsx)(n.li,{children:"Backup via snapshots"}),"\n",(0,i.jsx)(n.li,{children:"Can be encrypted"}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"IOPS ??"})}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.h2,{id:"types-",children:(0,i.jsx)(n.strong,{children:"Types ??"})}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"Size and the type can be changed without downtime"}),"\n",(0,i.jsx)(n.li,{children:"Can be copied from zone to author one"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Snapshot"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Create backup of the volume"}),"\n",(0,i.jsxs)(n.li,{children:["Data is copied from EBS to S3, and they are ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"replicated"})})]}),"\n",(0,i.jsx)(n.li,{children:"Best practice: shutdown the instance before making the snapshot"}),"\n",(0,i.jsx)(n.li,{children:"Can be private or public"}),"\n",(0,i.jsxs)(n.li,{children:["Stores only the difference between two ",(0,i.jsx)(n.strong,{children:"successes!!"})," snapshot"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Data Lifecycle Manager"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Used to automate the creation of the snapshot"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"storage_ec2",src:s(6662).A+"",width:"671",height:"330"})}),"\n",(0,i.jsx)(n.h2,{id:"security-group-sg",children:"Security Group (SG)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["A maximum ",(0,i.jsx)(n.strong,{children:"Five"})," Security Group per ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"Elastic Network Interface (ENI)"})})]}),"\n",(0,i.jsxs)(n.li,{children:["Two types of rules: ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"Inbound"})})," and ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"Outbound"})})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Important"})," the two rules have ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"Hidden Rule"})})," which is ",(0,i.jsx)(n.strong,{children:"Default Deny Rule"})]}),"\n",(0,i.jsx)(n.li,{children:"The traffic is stateful. We have juste to allow it in one direction"}),"\n",(0,i.jsx)(n.li,{children:"Can reference another SG"}),"\n",(0,i.jsx)(n.li,{children:"An SG can reference itself. Allow the services in the same groups to communicate between them"}),"\n",(0,i.jsxs)(n.li,{children:["You can change the security groups for an instance when the instance is in the ",(0,i.jsx)(n.strong,{children:"running"})," or ",(0,i.jsx)(n.strong,{children:"stopped"})," state"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"user-data",children:"User data"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"It's a boostrap script"}),"\n",(0,i.jsxs)(n.li,{children:["Uses th url: ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"http://169.254.169.254/latest/user-data",children:"http://169.254.169.254/latest/user-data"})})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"instance-metadata",children:"Instance Metadata"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Allows an application to get the information about the instance"}),"\n",(0,i.jsxs)(n.li,{children:["Uses th url: ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"http://169.254.169.254/latest/meta-data",children:"http://169.254.169.254/latest/meta-data"})})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"ec2_archi",src:s(3956).A+"",width:"781",height:"745"})}),"\n",(0,i.jsx)(n.h2,{id:"auto-scaling",children:"Auto-Scaling"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Define a template"}),"\n",(0,i.jsx)(n.li,{children:"Network and purchasing"}),"\n",(0,i.jsx)(n.li,{children:"ELB configuration"}),"\n",(0,i.jsxs)(n.li,{children:["Set scaling policy","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Dynamic scaling"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Target Tracking Scaling: Increase and decrease the current capacity of the group based on a ",(0,i.jsx)(n.strong,{children:"Amazon CloudWatch metric and a target value"})]}),"\n",(0,i.jsxs)(n.li,{children:["Step Scaling: increase and decrease based on a ",(0,i.jsx)(n.strong,{children:"set"})," of scaling adjustment"]}),"\n",(0,i.jsxs)(n.li,{children:["Simple Scaling (Not recommended): increase and decrease based on a ",(0,i.jsx)(n.strong,{children:"single"})," scaling adjustment, with cooldown period between each scaling activity"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Scheduled scaling"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Anticipate scaling based on known usage pattern (at 10 am increase capacity to 5 instances)"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Predictive scaling"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Continuously forecast load and schedule scaling ahead"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"Notification"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},6662:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/storage_ec2-d37933c857237cdfe64c0afcda69378c.png"},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>c});var t=s(6540);const i={},r=t.createContext(i);function l(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);