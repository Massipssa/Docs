"use strict";(self.webpackChunktestdoc=self.webpackChunktestdoc||[]).push([[7343],{10041:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"big-data/Apache Kafka/security","title":"security","description":"* Data encyption in-flight with SSL","source":"@site/versioned_docs/version-1.0/big-data/Apache Kafka/security.md","sourceDirName":"big-data/Apache Kafka","slug":"/big-data/Apache Kafka/security","permalink":"/Docs/docs/big-data/Apache Kafka/security","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/versioned_docs/version-1.0/big-data/Apache Kafka/security.md","tags":[],"version":"1.0","frontMatter":{},"sidebar":"bigdataSidebar","previous":{"title":"Schema Registry","permalink":"/Docs/docs/big-data/Apache Kafka/schema-registry"},"next":{"title":"Kafka streams","permalink":"/Docs/docs/big-data/Apache Kafka/stream"}}');var r=i(74848),t=i(28453);const c={},l=void 0,o={},a=[{value:"Security models",id:"security-models",level:2},{value:"Authentication with SASL (Simple Authorization Service Layer)",id:"authentication-with-sasl-simple-authorization-service-layer",level:2}];function d(e){const n={code:"code",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Data encyption in-flight with SSL"}),"\n",(0,r.jsx)(n.li,{children:"Authentication using SSL or SASL"}),"\n",(0,r.jsx)(n.li,{children:"Authorization using ACLs"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"security-models",children:"Security models"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"PLAINTEXT"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Is the default model"}),"\n",(0,r.jsx)(n.li,{children:"No authentication, no authorization and insecure channel"}),"\n",(0,r.jsx)(n.li,{children:"To be used only for PoC (not for DEV/PPRDO or PROD)"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"SSL"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Uses X.509 certificate"}),"\n",(0,r.jsx)(n.li,{children:"No authentication"}),"\n",(0,r.jsx)(n.li,{children:"Need to have keystore/truststore for broker and client"}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Broker side:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"listener=SSL://host_ip:6667"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"inter.broker.protocol=SSL"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Client side:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"security.protocol=SSL"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"SASL_PLAINTEXT"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Uses:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Username / Password authentication"}),"\n",(0,r.jsx)(n.li,{children:"SCRAM (Salted password)"}),"\n",(0,r.jsx)(n.li,{children:"GSSAPI (Kerberos)"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Supports User Authorization via Kafka ACLs or Apache Ranger"}),"\n",(0,r.jsxs)(n.li,{children:["Sends secrets and data over wire ",(0,r.jsx)(n.strong,{children:"Plain"})," format"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Broker side:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"listener=SASL_PLAINTEXT://host_ip:6667"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"inter.broker.protocol=SASL_PLAINTEXT"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"sasl.enabled.mechanism=PLAIN | SCRAM | GSSAPI"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Client side:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"security.protocol=SASL_PLAINTEXT"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"saslmechanism=PLAIN | GSSAPI | SCRAM-SHA-256 | SCRAM-SHA-512 "})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"SASL_SSL"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Same thing as ",(0,r.jsx)(n.strong,{children:"SASL_PLAINTEXT"})," but:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Sends secrets and data over wire ",(0,r.jsx)(n.strong,{children:"Encrypted"})," format"]}),"\n",(0,r.jsx)(n.li,{children:"Needs keystore/truststore for brokers and clients"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"authentication-with-sasl-simple-authorization-service-layer",children:"Authentication with SASL (Simple Authorization Service Layer)"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:'export KAFKA_OPTS="-Djava.security.auth.login.config=/home/massi/auth/kafka_server_jaas.conf"'})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>l});var s=i(96540);const r={},t=s.createContext(r);function c(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);