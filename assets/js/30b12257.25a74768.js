"use strict";(self.webpackChunktestdoc=self.webpackChunktestdoc||[]).push([[7065],{28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>a});var s=i(96540);const r={},t=s.createContext(r);function l(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(t.Provider,{value:n},e.children)}},53650:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"cloud/aws/Network/vpc","title":"Virtual Private Cloud (VPC)","description":"- Virtual Private Cloud (VPC)","source":"@site/versioned_docs/version-1.0/cloud/aws/03-Network/vpc.md","sourceDirName":"cloud/aws/03-Network","slug":"/cloud/aws/Network/vpc","permalink":"/Docs/docs/cloud/aws/Network/vpc","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/versioned_docs/version-1.0/cloud/aws/03-Network/vpc.md","tags":[],"version":"1.0","frontMatter":{},"sidebar":"cloudSidebar","previous":{"title":"Route 53","permalink":"/Docs/docs/cloud/aws/Network/route53"},"next":{"title":"VPC Endpoints","permalink":"/Docs/docs/cloud/aws/Network/vpcEndpoints"}}');var r=i(74848),t=i(28453);const l={},a="Virtual Private Cloud (VPC)",c={},d=[{value:"Subnet",id:"subnet",level:2},{value:"Internet Gateway",id:"internet-gateway",level:2},{value:"Route Table",id:"route-table",level:2},{value:"Security group",id:"security-group",level:2},{value:"Network Access Control Lists (NACLs)",id:"network-access-control-lists-nacls",level:2},{value:"NAT Gateway",id:"nat-gateway",level:2},{value:"VPC Endpoints",id:"vpc-endpoints",level:2},{value:"VPC Flow logs",id:"vpc-flow-logs",level:2},{value:"Difference Security Group and NACLs",id:"difference-security-group-and-nacls",level:2},{value:"VPC Peering",id:"vpc-peering",level:2},{value:"PrivateLinks",id:"privatelinks",level:2},{value:"Direct Connect (DX)",id:"direct-connect-dx",level:2},{value:"Site-To-Site (VPN Connection)",id:"site-to-site-vpn-connection",level:2},{value:"AWS Wavelength",id:"aws-wavelength",level:2},{value:"Bastion (Jumpbox)",id:"bastion-jumpbox",level:2},{value:"Endpoints",id:"endpoints",level:2},{value:"Interface Endpoints",id:"interface-endpoints",level:3},{value:"Gateway Endpoints",id:"gateway-endpoints",level:3},{value:"CloudHub",id:"cloudhub",level:2},{value:"Transit Gateway",id:"transit-gateway",level:2},{value:"Egress-only Internet Gateway",id:"egress-only-internet-gateway",level:2}];function o(e){const n={a:"a",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"virtual-private-cloud-vpc",children:"Virtual Private Cloud (VPC)"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"#virtual-private-cloud-vpc",children:"Virtual Private Cloud (VPC)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#subnet",children:"Subnet"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#internet-gateway",children:"Internet Gateway"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#route-table",children:"Route Table"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#security-group",children:"Security group"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#network-access-control-lists-nacls",children:"Network Access Control Lists (NACLs)"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#nat-gateway",children:"NAT Gateway"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#vpc-endpoints",children:"VPC Endpoints"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#vpc-flow-logs",children:"VPC Flow logs"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#difference-security-group-and-nacls",children:"Difference Security Group and NACLs"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#vpc-peering",children:"VPC Peering"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#privatelinks",children:"PrivateLinks"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#direct-connect-dx",children:"Direct Connect (DX)"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#site-to-site-vpn-connection",children:"Site-To-Site (VPN Connection)"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#aws-wavelength",children:"AWS Wavelength"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#bastion-jumpbox",children:"Bastion (Jumpbox)"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"#endpoints",children:"Endpoints"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#interface-endpoints",children:"Interface Endpoints"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#gateway-endpoints",children:"Gateway Endpoints"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#cloudhub",children:"CloudHub"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#transit-gateway",children:"Transit Gateway"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#egress-only-internet-gateway",children:"Egress-only Internet Gateway"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"subnet",children:"Subnet"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Is a virtual firewall"}),"\n",(0,r.jsx)(n.li,{children:"ex: eu-west has 3 AZ => 3 subnets"}),"\n",(0,r.jsx)(n.li,{children:"By default, is private"}),"\n",(0,r.jsx)(n.li,{children:"A subnet is always assigned to one AZ"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"internet-gateway",children:"Internet Gateway"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"A virtual router to connect VPC to internet"}),"\n",(0,r.jsx)(n.li,{children:"VPC can only have one Internet Gateway"}),"\n",(0,r.jsxs)(n.li,{children:["It's responsible for a ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.em,{children:"Static Network Address Translation"})})," (translate private ip to public ip)"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"route-table",children:"Route Table"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Used to determine where network traffic is ",(0,r.jsx)(n.strong,{children:"directed"})]}),"\n",(0,r.jsx)(n.li,{children:"One route table per VPC"}),"\n",(0,r.jsx)(n.li,{children:"Controls what's VPC router does with traffic leaving subnet"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"security-group",children:"Security group"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["We can add any ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.em,{children:"allowing"})})," rules (open ports)"]}),"\n",(0,r.jsx)(n.li,{children:"It's linked to instances"}),"\n",(0,r.jsx)(n.li,{children:"They are stateful"}),"\n",(0,r.jsx)(n.li,{children:"Default SG can't be deleted"}),"\n",(0,r.jsx)(n.li,{children:"You can assign up to five security groups to the instance"}),"\n",(0,r.jsxs)(n.li,{children:["Can allow traffic from:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Range or individual IP address"}),"\n",(0,r.jsx)(n.li,{children:"Another security group"}),"\n",(0,r.jsx)(n.li,{children:"Rules are permissive"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Can have","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Up to 10000 SG per region (default 2500)"}),"\n",(0,r.jsx)(n.li,{children:"60 inbound and outbound rules per SG"}),"\n",(0,r.jsx)(n.li,{children:"16 SG per Elastic Network Interface"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"network-access-control-lists-nacls",children:"Network Access Control Lists (NACLs)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Is an optional layer of security for VPC that acts as a firewall controlling traffic in and out of one or more subnets"}),"\n",(0,r.jsxs)(n.li,{children:["It is used to ",(0,r.jsx)(n.strong,{children:"block"})," specific IP address or range of IP address"]}),"\n",(0,r.jsxs)(n.li,{children:["Can ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.em,{children:"allow"})})," and ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.em,{children:"deny"})})," rules"]}),"\n",(0,r.jsx)(n.li,{children:"It can have multiple subnets but a subnet is only associated to only one NACLs"}),"\n",(0,r.jsx)(n.li,{children:"They are stateless"}),"\n",(0,r.jsx)(n.li,{children:"Default rule cannot be updated"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"nat-gateway",children:"NAT Gateway"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Access internet from private subnet"}),"\n",(0,r.jsxs)(n.li,{children:["One sense private subnet ",(0,r.jsx)(n.strong,{children:"==>"})," internet"]}),"\n",(0,r.jsx)(n.li,{children:"Redundant inside AZ"}),"\n",(0,r.jsx)(n.li,{children:"Start at 5 Gbps and scales currently to 45 Gbps (Bandwidth)"}),"\n",(0,r.jsx)(n.li,{children:"No need to patch"}),"\n",(0,r.jsx)(n.li,{children:"No associated to Security Group"}),"\n",(0,r.jsx)(n.li,{children:"Automatically assigned a public IP address"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"vpc-endpoints",children:"VPC Endpoints"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Access AWS services from private subnet"}),"\n",(0,r.jsxs)(n.li,{children:["Two types","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Interface endpoints"}),"\n",(0,r.jsx)(n.li,{children:"Gateways endpoints (Support connection to S3 and DynamoDB)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"vpc-flow-logs",children:"VPC Flow logs"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Allow to capture IP traffic information in-and out of Network Interfaces within a VPC"}),"\n",(0,r.jsxs)(n.li,{children:["Can be created for:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"VPC"}),"\n",(0,r.jsx)(n.li,{children:"Subnets"}),"\n",(0,r.jsx)(n.li,{children:"Network Interface"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Track the logs"}),"\n",(0,r.jsx)(n.li,{children:"Cannot be tagged as other resources"}),"\n",(0,r.jsx)(n.li,{children:"Contains source and destination IP addresses"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"difference-security-group-and-nacls",children:"Difference Security Group and NACLs"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Security groups are assigned to a specific resource, while NACLs are assigned to a subnet"}),"\n",(0,r.jsx)(n.li,{children:"Security groups do not allow explicit denies, while NACLs do"}),"\n",(0,r.jsx)(n.li,{children:"Security groups are stateful, while NACLs are stateless"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"vpc-peering",children:"VPC Peering"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Link VPCs together"}),"\n",(0,r.jsx)(n.li,{children:"Allows you to connect 1 VPC with another via a direct network route using private IP address"}),"\n",(0,r.jsx)(n.li,{children:"Instances behave as they were in the same VPC"}),"\n",(0,r.jsx)(n.li,{children:"We can peer between region"}),"\n",(0,r.jsx)(n.li,{children:"Transitive peering is not supported"}),"\n",(0,r.jsx)(n.li,{children:"No overlapping CIDR address ranges"}),"\n",(0,r.jsx)(n.li,{children:"Data is encrypted"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"privatelinks",children:"PrivateLinks"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Connect services privately from your service VPC to customers VPC"}),"\n",(0,r.jsx)(n.li,{children:"Doesn't need VPC Peering, public internet, NAT Gateway, Route Tables"}),"\n",(0,r.jsx)(n.li,{children:"Must be used with Network Load Balancer & ENI"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"direct-connect-dx",children:"Direct Connect (DX)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Establish a dedicated network connection from on-premise to AWS"}),"\n",(0,r.jsxs)(n.li,{children:["Two types","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Dedicated connection ??"}),"\n",(0,r.jsx)(n.li,{children:"Hosted connection ??"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Useful for high throughput workloads"}),"\n",(0,r.jsx)(n.li,{children:"Helpful when you need stable and reliable secure connection"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"site-to-site-vpn-connection",children:"Site-To-Site (VPN Connection)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Utilizes IPSec to establish ",(0,r.jsx)(n.strong,{children:"encrypted"})," network connectivity between your intranet and Amazon VPC over the Internet"]}),"\n",(0,r.jsx)(n.li,{children:"VPN Connections can be configured in minutes and are a good solution if you have an immediate need have low-to-modest\r\nbandwidth requirements, and can tolerate the inherent variability in Internet-based connectivity"}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Customer Gateways"}),": Created on-premise side"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Virtual Private Gateway"}),": Created on AWS side"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"aws-wavelength",children:"AWS Wavelength"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"AWS service embeds AWS compute and storage services within 5G networks, providing mobile edge computing infrastructure\r\nfor developing, deploying, and scaling ultra-low-latency applications"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"bastion-jumpbox",children:"Bastion (Jumpbox)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Get access via SSH to private subnet"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"endpoints",children:"Endpoints"}),"\n",(0,r.jsx)(n.h3,{id:"interface-endpoints",children:"Interface Endpoints"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["They are ",(0,r.jsx)(n.strong,{children:"Elastic Network Interfaces (ENI)"})," with private IP address"]}),"\n",(0,r.jsx)(n.li,{children:"They serve as an entry point for traffic going to a supported service"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"gateway-endpoints",children:"Gateway Endpoints"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Is a target for a specific route in the route table"}),"\n",(0,r.jsxs)(n.li,{children:["Supports only ",(0,r.jsx)(n.strong,{children:"DynamoDB"})," and ",(0,r.jsx)(n.strong,{children:"S3"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"cloudhub",children:"CloudHub"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Connect multiple sites"}),"\n",(0,r.jsx)(n.li,{children:"Low cost and easy to manage"}),"\n",(0,r.jsx)(n.li,{children:"It operates over public network, but all traffic between Customer Gateway and AWS VPN CloudHub is encrypted"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"transit-gateway",children:"Transit Gateway"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Connects VPCs and on-premise networks through a central hub (single gateway)"}),"\n",(0,r.jsx)(n.li,{children:"Scales elastically based on the volume of network traffic"}),"\n",(0,r.jsx)(n.li,{children:"Routing through a transit gateway operates at layer 3, where the packets are sent to a specific next-hop attachment, based on their destination IP addresses"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"egress-only-internet-gateway",children:"Egress-only Internet Gateway"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Used for IPv8 only"}),"\n",(0,r.jsx)(n.li,{children:"Similar to a NAT Gateway but for IPv6"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}}}]);