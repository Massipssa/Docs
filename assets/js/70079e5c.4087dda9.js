"use strict";(self.webpackChunktestdoc=self.webpackChunktestdoc||[]).push([[2023],{808:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>t,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"big-data/File-formats/apache-parquet","title":"Apache Parquet","description":"Apache Parquet is a popular open-source columnar storage format optimized for analytical workloads in big data environments.","source":"@site/docs/big-data/File-formats/apache-parquet.md","sourceDirName":"big-data/File-formats","slug":"/big-data/File-formats/apache-parquet","permalink":"/data-eng-docs/docs/big-data/File-formats/apache-parquet","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/big-data/File-formats/apache-parquet.md","tags":[],"version":"current","frontMatter":{},"sidebar":"bigdataSidebar","previous":{"title":"Apache Avro","permalink":"/data-eng-docs/docs/big-data/File-formats/apache-avro"},"next":{"title":"architecture","permalink":"/data-eng-docs/docs/big-data/architecture"}}');var a=r(4848),i=r(8453);const t={},o="Apache Parquet",l={},c=[{value:"Key Features",id:"key-features",level:2},{value:"File Structure",id:"file-structure",level:2},{value:"Components",id:"components",level:3},{value:"Advantages",id:"advantages",level:2},{value:"Use Cases",id:"use-cases",level:2}];function d(e){const n={br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"apache-parquet",children:"Apache Parquet"})}),"\n",(0,a.jsx)(n.p,{children:"Apache Parquet is a popular open-source columnar storage format optimized for analytical workloads in big data environments."}),"\n",(0,a.jsx)(n.h2,{id:"key-features",children:"Key Features"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Columnar oriented:"})," Data is stored by column, enabling efficient compression and query performance."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Self-describing:"})," Metadata, including schema and structure, is embedded within each file."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Efficient compression and encoding:"})," Columnar storage allows for advanced compression and encoding techniques."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Optimized I/O:"})," Only relevant columns and row groups are read, reducing disk and network usage."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Interoperability:"})," Supported by many big data tools (Spark, Hive, Presto, Trino, Dremio, etc.)."]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"file-structure",children:"File Structure"}),"\n",(0,a.jsx)(n.p,{children:"A Parquet file is divided into row groups, column chunks, and pages:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Parquet File\r\n \u251c\u2500\u2500 Row Group 1\r\n \u2502     \u251c\u2500\u2500 Column Chunk (col1)\r\n \u2502     \u2502      \u251c\u2500\u2500 Page 1\r\n \u2502     \u2502      \u251c\u2500\u2500 Page 2\r\n \u2502     \u2502      ...\r\n \u2502     \u251c\u2500\u2500 Column Chunk (col2)\r\n \u2502     \u2502      \u251c\u2500\u2500 Page 1\r\n \u2502     \u2502      \u251c\u2500\u2500 Page 2\r\n \u2502     ...\r\n \u251c\u2500\u2500 Row Group 2\r\n \u2502     \u251c\u2500\u2500 Column Chunk (col1)\r\n \u2502     \u251c\u2500\u2500 Column Chunk (col2)\r\n \u2502     ...\r\n \u2514\u2500\u2500 File Footer (schema + metadata)\n"})}),"\n",(0,a.jsx)(n.h3,{id:"components",children:"Components"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Row Group:"}),(0,a.jsx)(n.br,{}),"\n","A horizontal partition of the data, typically a few MBs (default ~128MB). Each row group contains all columns for a subset of rows."]}),"\n",(0,a.jsx)(n.p,{children:"!!! info\r\nRow groups enable parallelism: different executors can process different row groups independently."}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Column Chunk:"}),(0,a.jsx)(n.br,{}),"\n","Within each row group, data for each column is stored separately as a column chunk. This layout enables efficient columnar reads and compression."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Page:"}),(0,a.jsx)(n.br,{}),"\n","The smallest unit of storage, usually 8KB\u20131MB. Two main types:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Data Page:"})," Contains actual column values."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Dictionary Page:"})," Optional; maps repeated values to dictionary indexes for better compression."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"File Footer:"}),(0,a.jsx)(n.br,{}),"\n","Stored at the end of the file. Contains schema, metadata (column types, encoding, statistics like min/max/null counts)."]}),"\n",(0,a.jsx)(n.p,{children:"!!! tip\r\nRich metadata enables query engines to perform predicate pushdown\u2014skipping row groups where min/max values do not match filter criteria, greatly improving query performance."}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"advantages",children:"Advantages"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Compression:"})," Columnar layout allows for highly efficient compression algorithms."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Encoding:"})," Supports multiple encoding schemes (e.g., dictionary, bit packing, run-length)."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Predicate pushdown:"})," Query engines can skip irrelevant data using embedded statistics."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Schema evolution:"})," Supports adding or removing columns without rewriting entire datasets."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Splittable:"})," Large files can be split for parallel processing."]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Data warehousing and analytics"}),"\n",(0,a.jsx)(n.li,{children:"ETL pipelines"}),"\n",(0,a.jsx)(n.li,{children:"Data lake storage"}),"\n",(0,a.jsx)(n.li,{children:"Machine learning feature stores"}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.em,{children:"Parquet\u2019s columnar design and rich metadata make it a foundational format for scalable, high-performance analytics in modern data architectures."})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>o});var s=r(6540);const a={},i=s.createContext(a);function t(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);