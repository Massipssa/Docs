"use strict";(self.webpackChunktestdoc=self.webpackChunktestdoc||[]).push([[9871],{5355:(n,e,s)=>{s.d(e,{A:()=>i});const i=s.p+"assets/images/redshift_archi-23c7c03f12644588d2ad567a31254c3d.PNG"},7956:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"cloud/aws/Analysis/redshift","title":"Redshift","description":"- Fully managed","source":"@site/docs/cloud/aws/Analysis/redshift.md","sourceDirName":"cloud/aws/Analysis","slug":"/cloud/aws/Analysis/redshift","permalink":"/data-eng-docs/docs/cloud/aws/Analysis/redshift","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/cloud/aws/Analysis/redshift.md","tags":[],"version":"current","frontMatter":{},"sidebar":"cloudSidebar","previous":{"title":"Amazon OpenSearch (ELK)","permalink":"/data-eng-docs/docs/cloud/aws/Analysis/open-search"},"next":{"title":"AppFlow","permalink":"/data-eng-docs/docs/cloud/aws/AppIntegration/appFlow"}}');var l=s(4848),r=s(8453);const t={},d="Redshift",c={},a=[{value:"Architecture",id:"architecture",level:2},{value:"Snapshots and DR",id:"snapshots-and-dr",level:2},{value:"COPY command",id:"copy-command",level:2},{value:"Redshift Spectrum",id:"redshift-spectrum",level:2}];function o(n){const e={h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.header,{children:(0,l.jsx)(e.h1,{id:"redshift",children:"Redshift"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Fully managed"}),"\n",(0,l.jsx)(e.li,{children:"It's OLAP engine (analytics and data warehousing), build on Postgres"}),"\n",(0,l.jsx)(e.li,{children:"Petabyte-scale data warehouse service"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"architecture",children:"Architecture"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{alt:"redshift_archi",src:s(5355).A+"",width:"565",height:"472"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Performance"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Massively Parallel Processing (MPP)"}),"\n",(0,l.jsx)(e.li,{children:"Columnar Data Storage"}),"\n",(0,l.jsx)(e.li,{children:"Column Compression (is column level operation, reduce space, reduce disc I/O)"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Is a single AZ"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Block size of 1MB"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Indexes are materialized but not required"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Data is stored in three different places:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Original data within cluster"}),"\n",(0,l.jsx)(e.li,{children:"Backup within cluster"}),"\n",(0,l.jsx)(e.li,{children:"Backup in S3"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Durability"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Distribution Styles"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"AUTO"}),"\n",(0,l.jsx)(e.li,{children:"EVEN"}),"\n",(0,l.jsx)(e.li,{children:"KEY"}),"\n",(0,l.jsx)(e.li,{children:"ALL"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Sort Keys"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Single column"}),"\n",(0,l.jsx)(e.li,{children:"Compound (default)"}),"\n",(0,l.jsx)(e.li,{children:"Interleaved"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"snapshots-and-dr",children:"Snapshots and DR"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["Redshift has ",(0,l.jsx)(e.strong,{children:"Multi-AZ"})," mode for some clusters"]}),"\n",(0,l.jsx)(e.li,{children:"Snapshots are point-in-time backups of a cluster stored internally in S3"}),"\n",(0,l.jsx)(e.li,{children:"Snapshots are incremental (only what has changed is saved)"}),"\n",(0,l.jsxs)(e.li,{children:["It can be restored into a ",(0,l.jsx)(e.strong,{children:"new cluster"})]}),"\n",(0,l.jsxs)(e.li,{children:["Can be","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Manual"}),": snapshot is retained until you delete it"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Automatic"}),": e.g every 8 hours, every 5 GB, or on schedule. You can set a retention for a automated snapshot"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:"You can configure Redshift to copy snapshot either they are manual or automatic into another region"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"copy-command",children:"COPY command"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"From S3, EMR, DynamoDB, remote hosts to Redshift"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"S3 requires a manifest file and IAM role"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"UNLOAD command:"})," unload from a table into files in S3"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"redshift-spectrum",children:"Redshift Spectrum"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Query the data is already in S3 without loading it into Redshift"}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(o,{...n})}):o(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>t,x:()=>d});var i=s(6540);const l={},r=i.createContext(l);function t(n){const e=i.useContext(r);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:t(n.components),i.createElement(r.Provider,{value:e},n.children)}}}]);