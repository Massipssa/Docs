"use strict";(self.webpackChunktestdoc=self.webpackChunktestdoc||[]).push([[6567],{981:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"cloud/aws/Network/elb","title":"Elastic Load Balancer","description":"- Route the traffic to your instances that are healthy","source":"@site/docs/cloud/aws/03-Network/elb.md","sourceDirName":"cloud/aws/03-Network","slug":"/cloud/aws/Network/elb","permalink":"/Docs/docs/cloud/aws/Network/elb","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/cloud/aws/03-Network/elb.md","tags":[],"version":"current","frontMatter":{},"sidebar":"cloudSidebar","previous":{"title":"CloudFront","permalink":"/Docs/docs/cloud/aws/Network/cloud-front"},"next":{"title":"Route 53","permalink":"/Docs/docs/cloud/aws/Network/route53"}}');var a=l(4848),s=l(8453);const t={},i="Elastic Load Balancer",o={},c=[{value:"Application Load Balancer",id:"application-load-balancer",level:2},{value:"Network Load Balancer",id:"network-load-balancer",level:2},{value:"Classic Load Balancer",id:"classic-load-balancer",level:2},{value:"Sticky Sessions",id:"sticky-sessions",level:3},{value:"X-Forwarded-For",id:"x-forwarded-for",level:3},{value:"Registration Delay",id:"registration-delay",level:3},{value:"Health Checks",id:"health-checks",level:3},{value:"Cross-Zone Load Balancer",id:"cross-zone-load-balancer",level:2},{value:"Auto Scaling Group",id:"auto-scaling-group",level:2}];function d(e){const n={h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"elastic-load-balancer",children:"Elastic Load Balancer"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Route the traffic to your instances that are healthy"}),"\n",(0,a.jsx)(n.li,{children:"Must have at least two Availability Zone"}),"\n",(0,a.jsx)(n.li,{children:"Cannot go cross-region. You must create one per region"}),"\n",(0,a.jsx)(n.li,{children:"Can attach Amazon Certification Manager SSL to any ELB for SSL"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"application-load-balancer",children:"Application Load Balancer"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Operates on the ",(0,a.jsx)(n.strong,{children:"layer 7"})," of OSI model"]}),"\n",(0,a.jsx)(n.li,{children:"Listener: checks for connection requests from clients, using the protocol and port you configure"}),"\n",(0,a.jsx)(n.li,{children:"Rule"}),"\n",(0,a.jsx)(n.li,{children:"Target Group"}),"\n",(0,a.jsx)(n.li,{children:"Target"}),"\n",(0,a.jsx)(n.li,{children:"Supports only HTTP,  HTTPS and WebSocket"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"network-load-balancer",children:"Network Load Balancer"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Operate at layer 4"}),"\n",(0,a.jsx)(n.li,{children:"Use where we need extreme performance"}),"\n",(0,a.jsx)(n.li,{children:"Other use cases are where you need protocols not supported by Application Load Balancers"}),"\n",(0,a.jsx)(n.li,{children:"It can decrypt traffic, but you will need to install the certificate on the load balancer"}),"\n",(0,a.jsx)(n.li,{children:"Support TCP and HTTP health check"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"classic-load-balancer",children:"Classic Load Balancer"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"A 504 error means the gateway has timed out"}),"\n",(0,a.jsx)(n.li,{children:"Need the IPv4 address of your end use: look for the X-Forwarded-For header"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"sticky-sessions",children:"Sticky Sessions"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Allow to bind a user's session to a specific EC2 instance"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"x-forwarded-for",children:"X-Forwarded-For"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Allow to determine users IP"}),"\n",(0,a.jsx)(n.li,{children:"X-Forwarded-For: get IP address"}),"\n",(0,a.jsx)(n.li,{children:"X-Forwarded-Port: get the port"}),"\n",(0,a.jsx)(n.li,{children:"X-Forwarded-Proto: get the protocol"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"registration-delay",children:"Registration Delay"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Allows load balancer to keep existing connection open if the EC2 instance are de-registered or become unhealthy"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"health-checks",children:"Health Checks"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Communicates with instances to determine their state"}),"\n",(0,a.jsx)(n.li,{children:"ELB does not terminate (kill) unhealthy instance. It will just redirect traffic to healthy instance"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"cross-zone-load-balancer",children:"Cross-Zone Load Balancer"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Each Load Balancer instance distributes evenly across all registered instances in all AZ"}),"\n",(0,a.jsxs)(n.li,{children:["ALB","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Enabled by default (can be disabled at The Target Group level)"}),"\n",(0,a.jsx)(n.li,{children:"No charges for inter AZ data"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["NLB and GLB","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Disabled by default"}),"\n",(0,a.jsx)(n.li,{children:"You pay charges for inter AZ data if enabled"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["CLB","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Disabled by default"}),"\n",(0,a.jsx)(n.li,{children:"No charges for inter AZ data"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"auto-scaling-group",children:"Auto Scaling Group"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Scale out (add EC2 instances) to match an increased load"}),"\n",(0,a.jsx)(n.li,{children:"Scale in (remove EC2 instances) to match a decreased load"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,n,l)=>{l.d(n,{R:()=>t,x:()=>i});var r=l(6540);const a={},s=r.createContext(a);function t(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);