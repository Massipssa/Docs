<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-big-data/Apache Iceberg/features/schema-evolution" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Schema Evolution | DataEngLab</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://massipssa.github.io/Docs/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://massipssa.github.io/Docs/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://massipssa.github.io/Docs/docs/next/big-data/Apache Iceberg/features/schema-evolution"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Schema Evolution | DataEngLab"><meta data-rh="true" name="description" content="Think of schema changes as product release, not just technical updates."><meta data-rh="true" property="og:description" content="Think of schema changes as product release, not just technical updates."><link data-rh="true" rel="icon" href="/Docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://massipssa.github.io/Docs/docs/next/big-data/Apache Iceberg/features/schema-evolution"><link data-rh="true" rel="alternate" href="https://massipssa.github.io/Docs/docs/next/big-data/Apache Iceberg/features/schema-evolution" hreflang="en"><link data-rh="true" rel="alternate" href="https://massipssa.github.io/Docs/docs/next/big-data/Apache Iceberg/features/schema-evolution" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://YOUR_APP_ID-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Apache Iceberg Features","item":"https://massipssa.github.io/Docs/docs/next/big-data/Apache Iceberg/features/"},{"@type":"ListItem","position":2,"name":"Schema Evolution","item":"https://massipssa.github.io/Docs/docs/next/big-data/Apache Iceberg/features/schema-evolution"}]}</script><link rel="alternate" type="application/rss+xml" href="/Docs/blog/rss.xml" title="DataEngLab RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Docs/blog/atom.xml" title="DataEngLab Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="DataEngLab" href="/Docs/opensearch.xml"><link rel="stylesheet" href="/Docs/assets/css/styles.afc8787c.css">
<script src="/Docs/assets/js/runtime~main.eba55320.js" defer="defer"></script>
<script src="/Docs/assets/js/main.c1100f63.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/Docs/img/logo-dataenglab.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Docs/"><div class="navbar__logo"><img src="/Docs/img/logo-dataenglab.svg" alt="dataeng docs logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Docs/img/logo-dataenglab.svg" alt="dataeng docs logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/Docs/docs/next/Home">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Docs/docs/next/big-data/Apache Beam/concepts">Data</a><a class="navbar__item navbar__link" href="/Docs/docs/next/programming/Principals/DRY">Programming</a><a class="navbar__item navbar__link" href="/Docs/docs/next/cloud/Concepts">Cloud</a><a class="navbar__item navbar__link" href="/Docs/docs/next/security/Oauth2">Security</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/Docs/docs/next/big-data/Apache Iceberg/features/schema-evolution">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/Docs/docs/next/big-data/Apache Iceberg/features/schema-evolution">Next</a></li><li><a class="dropdown__link" href="/Docs/docs/big-data/Apache Iceberg/features/schema-evolution">1.0</a></li></ul></div><a href="https://github.com/Massipssa/Docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Docs/docs/next/big-data/Apache Beam/concepts"><span title="Apache Beam" class="categoryLinkLabel_W154">Apache Beam</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/Docs/docs/next/big-data/Apache Iceberg/architecture"><span title="Apache Iceberg" class="categoryLinkLabel_W154">Apache Iceberg</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Docs/docs/next/big-data/Apache Iceberg/architecture"><span title="Apache Iceberg Architecture" class="linkLabel_WmDU">Apache Iceberg Architecture</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Docs/docs/next/big-data/Apache Iceberg/optimization"><span title="Optimization" class="linkLabel_WmDU">Optimization</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Docs/docs/next/big-data/Apache Iceberg/read-write"><span title="Reading and Writing in Apache Iceberg" class="linkLabel_WmDU">Reading and Writing in Apache Iceberg</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/Docs/docs/next/big-data/Apache Iceberg/features/"><span title="Apache Iceberg Features" class="categoryLinkLabel_W154">Apache Iceberg Features</span></a><button aria-label="Collapse sidebar category &#x27;Apache Iceberg Features&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Docs/docs/next/big-data/Apache Iceberg/features/schema-evolution"><span title="Schema Evolution" class="linkLabel_WmDU">Schema Evolution</span></a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Docs/docs/next/big-data/Apache Kafka/Tools"><span title="Apache Kafka" class="categoryLinkLabel_W154">Apache Kafka</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Docs/docs/next/big-data/Apache Spark/basics"><span title="Apache Spark" class="categoryLinkLabel_W154">Apache Spark</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Docs/docs/next/big-data/File-formats/apache-avro"><span title="File-formats" class="categoryLinkLabel_W154">File-formats</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Docs/docs/next/big-data/architecture"><span title="architecture" class="linkLabel_WmDU">architecture</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Docs/docs/next/big-data/datalake-archi"><span title="datalake-archi" class="linkLabel_WmDU">datalake-archi</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Docs/docs/next/big-data/deltalake"><span title="deltalake" class="linkLabel_WmDU">deltalake</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Docs/docs/next/big-data/flink/concepts"><span title="flink" class="categoryLinkLabel_W154">flink</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Docs/docs/next/big-data/hdfs"><span title="hdfs" class="linkLabel_WmDU">hdfs</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Docs/docs/next/big-data/old/hbase/architecture"><span title="old" class="categoryLinkLabel_W154">old</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Docs/docs/next/big-data/presto/concepts"><span title="presto" class="categoryLinkLabel_W154">presto</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Docs/docs/next/big-data/redis/concepts"><span title="redis" class="categoryLinkLabel_W154">redis</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Docs/docs/next/big-data/to-read"><span title="to-read" class="linkLabel_WmDU">to-read</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Docs/docs/next/big-data/zookeeper/concepts"><span title="zookeeper" class="categoryLinkLabel_W154">zookeeper</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->DataEngLab<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/Docs/docs/big-data/Apache Iceberg/features/schema-evolution">latest version</a></b> (<!-- -->1.0<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/Docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Apache Iceberg</span></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/Docs/docs/next/big-data/Apache Iceberg/features/"><span>Apache Iceberg Features</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Schema Evolution</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Schema Evolution</h1></header>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Important</div><div class="admonitionContent_BuS1"><p>Think of schema changes as product release, not just technical updates.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="add-new-column">Add New Column<a href="#add-new-column" class="hash-link" aria-label="Direct link to Add New Column" title="Direct link to Add New Column" translate="no">​</a></h2>
<ul>
<li class="">Backward- and forward-compatible</li>
<li class="">New field registered in metadata with default value (usually null)</li>
<li class="">Old readers simply ignore the extra column</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="best-practices">Best Practices<a href="#best-practices" class="hash-link" aria-label="Direct link to Best Practices" title="Direct link to Best Practices" translate="no">​</a></h3>
<ul>
<li class=""><strong>Use clear, descriptive names</strong> Ensure the column name conveys its purpose and unit (e.g., order_status_code rather than status).</li>
<li class=""><strong>Define sensible defaults</strong> Set a default value or mark NOT NULL with a default to prevent unintended NULLs in new and existing rows.</li>
<li class=""><strong>Audit downstream dependencies</strong> Identify and update ETL jobs, views, BI reports, and API consumers before rolling out the change.</li>
<li class=""><strong>Communicate schema changes</strong> Announce additions in your data catalog, schema registry, or team channels to keep everyone aligned.</li>
<li class=""><strong>Keep changes additive</strong> Never repurpose or drop existing columns in the same change—additive evolution minimizes breakages.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="exmaple">Exmaple<a href="#exmaple" class="hash-link" aria-label="Direct link to Exmaple" title="Direct link to Exmaple" translate="no">​</a></h3>
<ol>
<li class="">Add a New Column with Comment</li>
</ol>
<div class="language-SQL language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">ALTER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> spark_catalog</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">default</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">orders</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">ADD</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">COLUMN</span><span class="token plain"> new_column STRING</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">COMMENT</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Detailed description of new_column’s purpose&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<ol start="2">
<li class="">Define a Default Value</li>
</ol>
<div class="language-SQL language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">ALTER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> spark_catalog</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">default</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">orders</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">ALTER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">COLUMN</span><span class="token plain"> new_column</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">SET</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;default_value&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="drop--rename-column">Drop / Rename Column<a href="#drop--rename-column" class="hash-link" aria-label="Direct link to Drop / Rename Column" title="Direct link to Drop / Rename Column" translate="no">​</a></h2>
<p>Thaey are the common actions, you need to be caution</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="drop-colum">Drop Colum<a href="#drop-colum" class="hash-link" aria-label="Direct link to Drop Colum" title="Direct link to Drop Colum" translate="no">​</a></h3>
<ul>
<li class="">Allowed only if no downstream jobs or queries depend on it</li>
<li class="">Iceberg tracks dropped columns in history—reads of old snapshots still work</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p><strong>Safest practice:</strong> deprecate first, then drop at next major version</p></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="rename-column">Rename Column<a href="#rename-column" class="hash-link" aria-label="Direct link to Rename Column" title="Direct link to Rename Column" translate="no">​</a></h3>
<ul>
<li class="">Performed entirely in table metadata—no data files rewritten</li>
<li class="">Downstream tools that hard-code column names may break</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Best to coordinate with consumers or provide an alias</p></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="best-practices-1">Best Practices<a href="#best-practices-1" class="hash-link" aria-label="Direct link to Best Practices" title="Direct link to Best Practices" translate="no">​</a></h3>
<ul>
<li class="">
<p>Renaming is safe but requires updating queries Changing a column’s name only affects metadata; underlying data files aren’t rewritten. Any SQL or BI reports that reference the old name must be updated to avoid errors.</p>
</li>
<li class="">
<p>Dropping columns is irreversible—archive data first Once you issue a DROP COLUMN command, Iceberg marks the column as removed in metadata. The original values remain reachable in older table snapshots, but new reads won’t include them. To prevent accidental data loss, export or back up that column’s data before dropping.</p>
</li>
<li class="">
<p>Use schema versioning for rollback if needed Iceberg tracks each schema change in its versioned metadata. By referencing an earlier schema snapshot, you can roll back a problematic rename or drop. This practice ensures you can recover if downstream systems break after a change.</p>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="reorder-columns">Reorder Columns<a href="#reorder-columns" class="hash-link" aria-label="Direct link to Reorder Columns" title="Direct link to Reorder Columns" translate="no">​</a></h2>
<ul>
<li class="">Purely logical change in metadata; physical file layout remains the same</li>
<li class="">Queries see fields in new order, but underlying storage is unaffected</li>
<li class="">Useful for cleaner schemas without heavy migration costs</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="change-column-type">Change Column Type<a href="#change-column-type" class="hash-link" aria-label="Direct link to Change Column Type" title="Direct link to Change Column Type" translate="no">​</a></h2>
<ul>
<li class="">Narrowing conversions (e.g., INT → BIGINT) are usually safe</li>
<li class="">Widening or incompatible changes (e.g., STRING → INT) require data rewrite</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Recommended approach:</p><ul>
<li class="">Add new column with desired type</li>
<li class="">Backfill data</li>
<li class="">Drop old column</li>
</ul></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="explanation-of-guidelines">Explanation of Guidelines<a href="#explanation-of-guidelines" class="hash-link" aria-label="Direct link to Explanation of Guidelines" title="Direct link to Explanation of Guidelines" translate="no">​</a></h3>
<ul>
<li class="">
<p>Compatible changes are safe:
Changing from a narrower type to a wider one (for example, INT to BIGINT or VARCHAR(50) to VARCHAR(100)) preserves all existing values without risk of overflow or truncation.</p>
</li>
<li class="">
<p>Incompatible changes can cause data loss:
Converting from a wider type to a narrower one (for instance BIGINT to INT or VARCHAR(100) to VARCHAR(50)) may truncate data or fail when values exceed the target type’s capacity.</p>
</li>
<li class="">
<p>Always test in a staging environment before production:
Validating your type change on a non-production copy of the dataset helps catch failures or performance regressions before they affect live workloads.</p>
</li>
<li class="">
<p>Prefer adding a new column instead:
Introducing a new column with the desired type and backfilling values allows a gradual migration. Consumers can switch over when ready, avoiding a disruptive in-place change.</p>
</li>
<li class="">
<p>Consider data rewrites if needed:
When neither a straight type change nor a new column is practical, you can perform a targeted ETL that transforms incompatible values into the new type with custom logic before swapping columns.</p>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="addmodify-partition-fields-optional">Add/Modify Partition Fields (Optional)<a href="#addmodify-partition-fields-optional" class="hash-link" aria-label="Direct link to Add/Modify Partition Fields (Optional)" title="Direct link to Add/Modify Partition Fields (Optional)" translate="no">​</a></h2>
<ul>
<li class="">Add new partition spec: Iceberg continues to use legacy spec for old data</li>
<li class="">Changing existing spec may require a table rewrite if partitions incompatible</li>
<li class="">Always test performance impact before rolling out</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="key-takeaway">Key Takeaway<a href="#key-takeaway" class="hash-link" aria-label="Direct link to Key Takeaway" title="Direct link to Key Takeaway" translate="no">​</a></h2>
<p>Apache Iceberg’s versioned metadata and manifest design ensure that each of these schema changes can be tracked, audited, and, where possible, applied without full table rewrites—keeping your data pipelines robust and flexible.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/big-data/Apache Iceberg/features/schema-evolution.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Docs/docs/next/big-data/Apache Iceberg/features/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Apache Iceberg Features</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Docs/docs/next/big-data/Apache Kafka/Tools"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tools</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#add-new-column" class="table-of-contents__link toc-highlight">Add New Column</a><ul><li><a href="#best-practices" class="table-of-contents__link toc-highlight">Best Practices</a></li><li><a href="#exmaple" class="table-of-contents__link toc-highlight">Exmaple</a></li></ul></li><li><a href="#drop--rename-column" class="table-of-contents__link toc-highlight">Drop / Rename Column</a><ul><li><a href="#drop-colum" class="table-of-contents__link toc-highlight">Drop Colum</a></li><li><a href="#rename-column" class="table-of-contents__link toc-highlight">Rename Column</a></li><li><a href="#best-practices-1" class="table-of-contents__link toc-highlight">Best Practices</a></li></ul></li><li><a href="#reorder-columns" class="table-of-contents__link toc-highlight">Reorder Columns</a></li><li><a href="#change-column-type" class="table-of-contents__link toc-highlight">Change Column Type</a><ul><li><a href="#explanation-of-guidelines" class="table-of-contents__link toc-highlight">Explanation of Guidelines</a></li></ul></li><li><a href="#addmodify-partition-fields-optional" class="table-of-contents__link toc-highlight">Add/Modify Partition Fields (Optional)</a></li><li><a href="#key-takeaway" class="table-of-contents__link toc-highlight">Key Takeaway</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Docs/docs/home">Tutorial</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://dataenglab.com/community/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/Massipssa/Docs.git" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 DataEngLab.</div></div></div></footer></div>
</body>
</html>