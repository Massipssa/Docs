import React from 'react';
import MaterialReactTable from 'material-react-table';
import { Box, Grid, TextField } from '@mui/material';

const ExampleTable = () => {
  const columns = [
    { accessorKey: 'name', header: 'Name' },
    { accessorKey: 'age', header: 'Age' },
    { accessorKey: 'email', header: 'Email' }
  ];

  const data = [
    { name: 'John Doe', age: 28, email: 'john@example.com' },
    { name: 'Jane Smith', age: 34, email: 'jane@example.com' },
    { name: 'Alice Johnson', age: 45, email: 'alice@example.com' }
  ];

  return (
    <Box sx={{ padding: 3 }}>
      <MaterialReactTable
        columns={columns}
        data={data}
        enableGlobalFilter  // Enable the search bar
        enablePagination  // Ensure pagination is enabled
        positionPagination="top"  // Pagination at the top
        renderTopToolbarCustomActions={({ table }) => (
          <Grid container justifyContent="space-between" alignItems="center">
            <Grid item>
              <TextField
                value={table.getState().globalFilter ?? ''}
                onChange={(event) => table.setGlobalFilter(event.target.value)}
                placeholder="Search..."
                sx={{ width: '300px' }}
              />
            </Grid>
            <Grid item>
              {/* Pagination Component here */}
              {table.getPaginationRowModel().rows.length > 0 && (
                <Box>{table.getTableProps().pagination}</Box>
              )}
            </Grid>
          </Grid>
        )}
      />
    </Box>
  );
};

const App = () => {
  return <ExampleTable />;
};

export default App;
