import React, { useState } from 'react';
import { Accordion, AccordionSummary, AccordionDetails, Card, CardContent, Typography, Grid } from '@mui/material';
import ExpandMoreIcon from '@mui/icons-material/ExpandMore';

const data = [
  { id: 1, title: 'Card 1', accordionTitle: 'Accordion 1', content: 'This is content for accordion 1.' },
  { id: 2, title: 'Card 2', accordionTitle: 'Accordion 2', content: 'This is content for accordion 2.' },
  { id: 3, title: 'Card 3', accordionTitle: 'Accordion 3', content: 'This is content for accordion 3.' },
];

const MultipleCardAccordion = () => {
  const [expandedAccordion, setExpandedAccordion] = useState(null); // Track the currently expanded accordion

  // Function to handle card click
  const handleCardClick = (id) => {
    // Toggle the accordion: expand if it's collapsed, collapse if it's already expanded
    setExpandedAccordion((prevExpanded) => (prevExpanded === id ? null : id));
  };

  return (
    <div>
      <Grid container spacing={2}>
        {/* Loop through data to generate cards and accordions */}
        {data.map((item) => (
          <Grid item xs={12} key={item.id}>
            {/* Card Component */}
            <Card onClick={() => handleCardClick(item.id)} style={{ cursor: 'pointer', marginBottom: '10px' }}>
              <CardContent>
                <Typography variant="h6">{item.title}</Typography>
              </CardContent>
            </Card>

            {/* Accordion Component */}
            <Accordion expanded={expandedAccordion === item.id}>
              <AccordionSummary expandIcon={<ExpandMoreIcon />}>
                <Typography>{item.accordionTitle}</Typography>
              </AccordionSummary>
              <AccordionDetails>
                <Typography>{item.content}</Typography>
              </AccordionDetails>
            </Accordion>
          </Grid>
        ))}
      </Grid>
    </div>
  );
};

export default MultipleCardAccordion;
