import React, { useState } from 'react';
import { Box, Breadcrumbs, Link, Typography, Grid, FormControl, InputLabel, Select, MenuItem, Button, TextField } from '@mui/material';
import { DatePicker } from '@mui/x-date-pickers/DatePicker';
import { useNavigate } from 'react-router-dom';

const CheckBreadcrumbAndFilters = ({ checkType }) => {
  const navigate = useNavigate();
  const [selectedDate, setSelectedDate] = useState(null);
  const [selectedSeverity, setSelectedSeverity] = useState('');

  const handleDateChange = (newValue) => setSelectedDate(newValue);
  const handleSeverityChange = (event) => setSelectedSeverity(event.target.value);
  const handleFilter = () => {
    console.log(`Filtering ${checkType} on date: ${selectedDate}, severity: ${selectedSeverity}`);
  };

  return (
    <Box mb={3}>
      <Breadcrumbs aria-label="breadcrumb">
        <Link underline="hover" color="inherit" onClick={() => navigate('/')}>
          Home
        </Link>
        <Typography color="text.primary">{checkType}</Typography>
      </Breadcrumbs>
      <Grid container spacing={2} mt={2}>
        <Grid item xs={12} sm={4}>
          <DatePicker
            label="Select Date"
            value={selectedDate}
            onChange={handleDateChange}
            renderInput={(params) => <TextField {...params} fullWidth />}
          />
        </Grid>
        <Grid item xs={12} sm={4}>
          <FormControl fullWidth>
            <InputLabel id="severity-label">Select Severity</InputLabel>
            <Select
              labelId="severity-label"
              value={selectedSeverity}
              onChange={handleSeverityChange}
              label="Select Severity"
            >
              <MenuItem value="low">Low</MenuItem>
              <MenuItem value="medium">Medium</MenuItem>
              <MenuItem value="high">High</MenuItem>
              <MenuItem value="critical">Critical</MenuItem>
            </Select>
          </FormControl>
        </Grid>
        <Grid item xs={12} sm={4}>
          <Button variant="contained" color="primary" fullWidth onClick={handleFilter}>
            Apply Filters
          </Button>
        </Grid>
      </Grid>
    </Box>
  );
};

export default CheckBreadcrumbAndFilters;
