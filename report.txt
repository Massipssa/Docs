git fetch --tags
latest_tag=$(git tag --sort=-v:refname | head -n1)
[ -z "$latest_tag" ] && latest_tag="v0.0.0"

IFS='.' read -r major minor patch <<< "${latest_tag#v}"
new_tag="v$major.$minor.$((patch + 1))"

if git rev-parse "$new_tag" >/dev/null 2>&1; then
  echo "Tag $new_tag already exists. Skipping."
  exit 0
fi

git tag "$new_tag"
git push origin "$new_tag"
