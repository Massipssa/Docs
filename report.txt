import React, { useState } from 'react';
import MaterialReactTable from 'material-react-table';
import { Button } from '@mui/material';
import VisibilityIcon from '@mui/icons-material/Visibility';

const CREMonitorTable = ({ rows }) => {
  const [visibleRows, setVisibleRows] = useState(10); // Initial number of rows to display

  const handleLoadMore = () => {
    setVisibleRows((prevVisibleRows) => prevVisibleRows + 10); // Load 10 more rows on click
  };

  const columns = [
    { accessorKey: 'CRE', header: 'CRE' },
    { accessorKey: 'frequence', header: 'FrÃ©quence' },
    { accessorKey: 'type', header: 'Type' },
    { accessorKey: 'vacation', header: 'Vacation' },
    { accessorKey: 'actions', header: 'Actions', Cell: () => <Button><VisibilityIcon /></Button> },
  ];

  return (
    <>
      <MaterialReactTable
        columns={columns}
        data={rows.slice(0, visibleRows)} // Only display the number of visible rows
        enablePagination={false} // Disable built-in pagination
        enableExpanding={false} // Disable the row toggle functionality
        enableRowSelection={false} // Disable row selection if applicable
        enableFullScreenToggle={false} // Disable full screen toggle feature

        muiTableContainerProps={{
          style: { border: 'none' }, // Remove table container borders
        }}
        muiTableHeadCellProps={{
          style: { borderBottom: 'none' }, // Remove border bottom in table head cells
        }}
        muiTableBodyCellProps={{
          style: { border: 'none' }, // Remove borders in table body cells
        }}
      />
      {visibleRows < rows.length && (
        <Button
          variant="contained"
          onClick={handleLoadMore}
          style={{ marginTop: '10px' }}
        >
          Load More
        </Button>
      )}
    </>
  );
};

export default CREMonitorTable;
